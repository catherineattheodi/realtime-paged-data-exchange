<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type">
<style>
html {
  background-image: none !important;
}
body {
  background: white top left fixed no-repeat !important;
  background-size: 25px auto !important;
  background-image: url('https://www.openactive.io/assets/openactive-label-deprecated.png') !important;
}
</style>
<style type="text/css">.lst-kix_d5u9zlsj0wb6-2>li{counter-increment:lst-ctn-kix_d5u9zlsj0wb6-2}ol.lst-kix_l192sf5wbnyt-2.start{counter-reset:lst-ctn-kix_l192sf5wbnyt-2 0}.lst-kix_8y5q3oubtulz-2>li{counter-increment:lst-ctn-kix_8y5q3oubtulz-2}.lst-kix_ql97sz3ml1pg-1>li{counter-increment:lst-ctn-kix_ql97sz3ml1pg-1}ol.lst-kix_gbrwmg8z6gxe-0.start{counter-reset:lst-ctn-kix_gbrwmg8z6gxe-0 0}ol.lst-kix_ql97sz3ml1pg-1.start{counter-reset:lst-ctn-kix_ql97sz3ml1pg-1 0}ol.lst-kix_d5u9zlsj0wb6-1.start{counter-reset:lst-ctn-kix_d5u9zlsj0wb6-1 0}.lst-kix_mgh1hkvrg8o1-7>li{counter-increment:lst-ctn-kix_mgh1hkvrg8o1-7}.lst-kix_l192sf5wbnyt-1>li{counter-increment:lst-ctn-kix_l192sf5wbnyt-1}.lst-kix_mgh1hkvrg8o1-5>li{counter-increment:lst-ctn-kix_mgh1hkvrg8o1-5}.lst-kix_ab6kxqnfquig-6>li{counter-increment:lst-ctn-kix_ab6kxqnfquig-6}.lst-kix_ql97sz3ml1pg-3>li{counter-increment:lst-ctn-kix_ql97sz3ml1pg-3}ol.lst-kix_ab6kxqnfquig-4.start{counter-reset:lst-ctn-kix_ab6kxqnfquig-4 0}.lst-kix_l192sf5wbnyt-3>li{counter-increment:lst-ctn-kix_l192sf5wbnyt-3}.lst-kix_d5u9zlsj0wb6-0>li{counter-increment:lst-ctn-kix_d5u9zlsj0wb6-0}ol.lst-kix_gbrwmg8z6gxe-6.start{counter-reset:lst-ctn-kix_gbrwmg8z6gxe-6 0}ol.lst-kix_8y5q3oubtulz-3.start{counter-reset:lst-ctn-kix_8y5q3oubtulz-3 0}.lst-kix_8y5q3oubtulz-0>li{counter-increment:lst-ctn-kix_8y5q3oubtulz-0}ol.lst-kix_d5u9zlsj0wb6-7.start{counter-reset:lst-ctn-kix_d5u9zlsj0wb6-7 0}ol.lst-kix_mgh1hkvrg8o1-7.start{counter-reset:lst-ctn-kix_mgh1hkvrg8o1-7 0}ol.lst-kix_gbrwmg8z6gxe-7{list-style-type:none}.lst-kix_gbrwmg8z6gxe-0>li:before{content:"" counter(lst-ctn-kix_gbrwmg8z6gxe-0,decimal) ". "}ol.lst-kix_gbrwmg8z6gxe-8{list-style-type:none}ol.lst-kix_gbrwmg8z6gxe-5{list-style-type:none}ol.lst-kix_gbrwmg8z6gxe-6{list-style-type:none}ol.lst-kix_gbrwmg8z6gxe-3{list-style-type:none}.lst-kix_c9qjljyemz0q-0>li:before{content:"\0025cf  "}ol.lst-kix_gbrwmg8z6gxe-4{list-style-type:none}ol.lst-kix_gbrwmg8z6gxe-1{list-style-type:none}ol.lst-kix_ab6kxqnfquig-5.start{counter-reset:lst-ctn-kix_ab6kxqnfquig-5 0}ol.lst-kix_gbrwmg8z6gxe-2{list-style-type:none}ol.lst-kix_gbrwmg8z6gxe-0{list-style-type:none}.lst-kix_8y5q3oubtulz-4>li{counter-increment:lst-ctn-kix_8y5q3oubtulz-4}.lst-kix_ab6kxqnfquig-4>li{counter-increment:lst-ctn-kix_ab6kxqnfquig-4}.lst-kix_gbrwmg8z6gxe-5>li:before{content:"" counter(lst-ctn-kix_gbrwmg8z6gxe-5,lower-roman) ". "}.lst-kix_gbrwmg8z6gxe-3>li:before{content:"" counter(lst-ctn-kix_gbrwmg8z6gxe-3,decimal) ". "}.lst-kix_gbrwmg8z6gxe-4>li:before{content:"" counter(lst-ctn-kix_gbrwmg8z6gxe-4,lower-latin) ". "}.lst-kix_gbrwmg8z6gxe-1>li:before{content:"" counter(lst-ctn-kix_gbrwmg8z6gxe-1,lower-latin) ". "}.lst-kix_gbrwmg8z6gxe-2>li:before{content:"" counter(lst-ctn-kix_gbrwmg8z6gxe-2,lower-roman) ". "}ol.lst-kix_d5u9zlsj0wb6-6.start{counter-reset:lst-ctn-kix_d5u9zlsj0wb6-6 0}ol.lst-kix_gbrwmg8z6gxe-5.start{counter-reset:lst-ctn-kix_gbrwmg8z6gxe-5 0}.lst-kix_l192sf5wbnyt-8>li{counter-increment:lst-ctn-kix_l192sf5wbnyt-8}ol.lst-kix_ql97sz3ml1pg-0{list-style-type:none}.lst-kix_miopmumpit9p-5>li:before{content:"\0025a0  "}.lst-kix_miopmumpit9p-4>li:before{content:"\0025cb  "}.lst-kix_mgh1hkvrg8o1-0>li{counter-increment:lst-ctn-kix_mgh1hkvrg8o1-0}.lst-kix_miopmumpit9p-3>li:before{content:"\0025cf  "}.lst-kix_mgh1hkvrg8o1-3>li{counter-increment:lst-ctn-kix_mgh1hkvrg8o1-3}.lst-kix_l192sf5wbnyt-5>li{counter-increment:lst-ctn-kix_l192sf5wbnyt-5}ol.lst-kix_l192sf5wbnyt-1{list-style-type:none}.lst-kix_miopmumpit9p-1>li:before{content:"\0025cb  "}.lst-kix_gbrwmg8z6gxe-1>li{counter-increment:lst-ctn-kix_gbrwmg8z6gxe-1}.lst-kix_gbrwmg8z6gxe-6>li:before{content:"" counter(lst-ctn-kix_gbrwmg8z6gxe-6,decimal) ". "}ol.lst-kix_l192sf5wbnyt-2{list-style-type:none}ol.lst-kix_l192sf5wbnyt-3{list-style-type:none}.lst-kix_miopmumpit9p-0>li:before{content:"\0025cf  "}.lst-kix_miopmumpit9p-2>li:before{content:"\0025a0  "}ol.lst-kix_l192sf5wbnyt-4{list-style-type:none}.lst-kix_gbrwmg8z6gxe-7>li:before{content:"" counter(lst-ctn-kix_gbrwmg8z6gxe-7,lower-latin) ". "}.lst-kix_gbrwmg8z6gxe-8>li:before{content:"" counter(lst-ctn-kix_gbrwmg8z6gxe-8,lower-roman) ". "}ol.lst-kix_l192sf5wbnyt-0{list-style-type:none}ol.lst-kix_ql97sz3ml1pg-4{list-style-type:none}ol.lst-kix_ql97sz3ml1pg-3{list-style-type:none}ol.lst-kix_ql97sz3ml1pg-2{list-style-type:none}ol.lst-kix_ql97sz3ml1pg-1{list-style-type:none}ol.lst-kix_ql97sz3ml1pg-8{list-style-type:none}ol.lst-kix_l192sf5wbnyt-5{list-style-type:none}ol.lst-kix_ql97sz3ml1pg-7{list-style-type:none}ol.lst-kix_l192sf5wbnyt-6{list-style-type:none}ol.lst-kix_ql97sz3ml1pg-6{list-style-type:none}ol.lst-kix_l192sf5wbnyt-7{list-style-type:none}ol.lst-kix_ql97sz3ml1pg-5{list-style-type:none}ol.lst-kix_l192sf5wbnyt-8{list-style-type:none}.lst-kix_qudvnvgs7uwa-0>li:before{content:"\0025cf  "}.lst-kix_qudvnvgs7uwa-2>li:before{content:"\0025a0  "}.lst-kix_d5u9zlsj0wb6-8>li{counter-increment:lst-ctn-kix_d5u9zlsj0wb6-8}ol.lst-kix_8y5q3oubtulz-7.start{counter-reset:lst-ctn-kix_8y5q3oubtulz-7 0}ol.lst-kix_mgh1hkvrg8o1-6.start{counter-reset:lst-ctn-kix_mgh1hkvrg8o1-6 0}.lst-kix_mgh1hkvrg8o1-1>li{counter-increment:lst-ctn-kix_mgh1hkvrg8o1-1}ol.lst-kix_8y5q3oubtulz-4{list-style-type:none}ol.lst-kix_8y5q3oubtulz-5{list-style-type:none}ol.lst-kix_8y5q3oubtulz-2{list-style-type:none}.lst-kix_qudvnvgs7uwa-4>li:before{content:"\0025cb  "}ol.lst-kix_8y5q3oubtulz-3{list-style-type:none}ol.lst-kix_8y5q3oubtulz-8{list-style-type:none}ol.lst-kix_8y5q3oubtulz-6{list-style-type:none}ol.lst-kix_8y5q3oubtulz-7{list-style-type:none}ol.lst-kix_d5u9zlsj0wb6-8.start{counter-reset:lst-ctn-kix_d5u9zlsj0wb6-8 0}.lst-kix_d5u9zlsj0wb6-1>li:before{content:"" counter(lst-ctn-kix_d5u9zlsj0wb6-1,lower-latin) ". "}.lst-kix_d5u9zlsj0wb6-3>li:before{content:"" counter(lst-ctn-kix_d5u9zlsj0wb6-3,decimal) ". "}.lst-kix_vbgk7g81czo-8>li:before{content:"\0025a0  "}.lst-kix_qudvnvgs7uwa-8>li:before{content:"\0025a0  "}ol.lst-kix_8y5q3oubtulz-0{list-style-type:none}ol.lst-kix_8y5q3oubtulz-1{list-style-type:none}.lst-kix_8y5q3oubtulz-8>li{counter-increment:lst-ctn-kix_8y5q3oubtulz-8}.lst-kix_miopmumpit9p-6>li:before{content:"\0025cf  "}.lst-kix_qudvnvgs7uwa-6>li:before{content:"\0025cf  "}.lst-kix_miopmumpit9p-8>li:before{content:"\0025a0  "}.lst-kix_ql97sz3ml1pg-8>li:before{content:"" counter(lst-ctn-kix_ql97sz3ml1pg-8,lower-roman) ". "}.lst-kix_gbrwmg8z6gxe-3>li{counter-increment:lst-ctn-kix_gbrwmg8z6gxe-3}.lst-kix_c9qjljyemz0q-8>li:before{content:"\0025a0  "}ol.lst-kix_gbrwmg8z6gxe-2.start{counter-reset:lst-ctn-kix_gbrwmg8z6gxe-2 0}.lst-kix_d5u9zlsj0wb6-5>li:before{content:"" counter(lst-ctn-kix_d5u9zlsj0wb6-5,lower-roman) ". "}.lst-kix_ql97sz3ml1pg-4>li:before{content:"(" counter(lst-ctn-kix_ql97sz3ml1pg-4,lower-latin) ") "}.lst-kix_ql97sz3ml1pg-6>li:before{content:"" counter(lst-ctn-kix_ql97sz3ml1pg-6,decimal) ". "}.lst-kix_d5u9zlsj0wb6-6>li{counter-increment:lst-ctn-kix_d5u9zlsj0wb6-6}.lst-kix_c9qjljyemz0q-6>li:before{content:"\0025cf  "}ol.lst-kix_l192sf5wbnyt-6.start{counter-reset:lst-ctn-kix_l192sf5wbnyt-6 0}.lst-kix_ql97sz3ml1pg-6>li{counter-increment:lst-ctn-kix_ql97sz3ml1pg-6}.lst-kix_c9qjljyemz0q-4>li:before{content:"\0025cb  "}ol.lst-kix_ql97sz3ml1pg-2.start{counter-reset:lst-ctn-kix_ql97sz3ml1pg-2 0}.lst-kix_d5u9zlsj0wb6-7>li:before{content:"" counter(lst-ctn-kix_d5u9zlsj0wb6-7,lower-latin) ". "}.lst-kix_mgh1hkvrg8o1-2>li{counter-increment:lst-ctn-kix_mgh1hkvrg8o1-2}.lst-kix_c9qjljyemz0q-2>li:before{content:"\0025a0  "}ol.lst-kix_l192sf5wbnyt-7.start{counter-reset:lst-ctn-kix_l192sf5wbnyt-7 0}.lst-kix_8y5q3oubtulz-2>li:before{content:"" counter(lst-ctn-kix_8y5q3oubtulz-2,lower-roman) ") "}ol.lst-kix_mgh1hkvrg8o1-8.start{counter-reset:lst-ctn-kix_mgh1hkvrg8o1-8 0}.lst-kix_8y5q3oubtulz-0>li:before{content:"(" counter(lst-ctn-kix_8y5q3oubtulz-0,decimal) ") "}.lst-kix_8y5q3oubtulz-4>li:before{content:"(" counter(lst-ctn-kix_8y5q3oubtulz-4,lower-latin) ") "}.lst-kix_gbrwmg8z6gxe-8>li{counter-increment:lst-ctn-kix_gbrwmg8z6gxe-8}.lst-kix_gbrwmg8z6gxe-2>li{counter-increment:lst-ctn-kix_gbrwmg8z6gxe-2}.lst-kix_l192sf5wbnyt-4>li{counter-increment:lst-ctn-kix_l192sf5wbnyt-4}ol.lst-kix_ab6kxqnfquig-8.start{counter-reset:lst-ctn-kix_ab6kxqnfquig-8 0}ul.lst-kix_miopmumpit9p-7{list-style-type:none}ul.lst-kix_miopmumpit9p-8{list-style-type:none}.lst-kix_8y5q3oubtulz-8>li:before{content:"" counter(lst-ctn-kix_8y5q3oubtulz-8,lower-roman) ". "}.lst-kix_ql97sz3ml1pg-5>li{counter-increment:lst-ctn-kix_ql97sz3ml1pg-5}.lst-kix_31wc2pg5ggbx-5>li:before{content:"\0025a0  "}.lst-kix_8y5q3oubtulz-6>li:before{content:"" counter(lst-ctn-kix_8y5q3oubtulz-6,decimal) ". "}ol.lst-kix_ql97sz3ml1pg-0.start{counter-reset:lst-ctn-kix_ql97sz3ml1pg-0 0}.lst-kix_31wc2pg5ggbx-7>li:before{content:"\0025cb  "}ol.lst-kix_gbrwmg8z6gxe-1.start{counter-reset:lst-ctn-kix_gbrwmg8z6gxe-1 0}.lst-kix_d5u9zlsj0wb6-1>li{counter-increment:lst-ctn-kix_d5u9zlsj0wb6-1}ol.lst-kix_8y5q3oubtulz-8.start{counter-reset:lst-ctn-kix_8y5q3oubtulz-8 0}ul.lst-kix_miopmumpit9p-1{list-style-type:none}ul.lst-kix_miopmumpit9p-2{list-style-type:none}.lst-kix_ab6kxqnfquig-5>li{counter-increment:lst-ctn-kix_ab6kxqnfquig-5}ul.lst-kix_miopmumpit9p-0{list-style-type:none}ul.lst-kix_miopmumpit9p-5{list-style-type:none}ul.lst-kix_miopmumpit9p-6{list-style-type:none}ul.lst-kix_miopmumpit9p-3{list-style-type:none}.lst-kix_d5u9zlsj0wb6-7>li{counter-increment:lst-ctn-kix_d5u9zlsj0wb6-7}ol.lst-kix_l192sf5wbnyt-8.start{counter-reset:lst-ctn-kix_l192sf5wbnyt-8 0}ul.lst-kix_miopmumpit9p-4{list-style-type:none}ul.lst-kix_vbgk7g81czo-3{list-style-type:none}ol.lst-kix_ab6kxqnfquig-7.start{counter-reset:lst-ctn-kix_ab6kxqnfquig-7 0}ol.lst-kix_d5u9zlsj0wb6-8{list-style-type:none}ul.lst-kix_vbgk7g81czo-2{list-style-type:none}ol.lst-kix_d5u9zlsj0wb6-7{list-style-type:none}ul.lst-kix_vbgk7g81czo-5{list-style-type:none}ol.lst-kix_8y5q3oubtulz-0.start{counter-reset:lst-ctn-kix_8y5q3oubtulz-0 0}ol.lst-kix_ql97sz3ml1pg-4.start{counter-reset:lst-ctn-kix_ql97sz3ml1pg-4 0}ol.lst-kix_d5u9zlsj0wb6-6{list-style-type:none}ul.lst-kix_vbgk7g81czo-4{list-style-type:none}ul.lst-kix_vbgk7g81czo-7{list-style-type:none}ul.lst-kix_vbgk7g81czo-6{list-style-type:none}ul.lst-kix_vbgk7g81czo-8{list-style-type:none}ol.lst-kix_d5u9zlsj0wb6-1{list-style-type:none}.lst-kix_mgh1hkvrg8o1-2>li:before{content:"" counter(lst-ctn-kix_mgh1hkvrg8o1-2,lower-roman) ") "}ol.lst-kix_d5u9zlsj0wb6-0{list-style-type:none}.lst-kix_mgh1hkvrg8o1-1>li:before{content:"" counter(lst-ctn-kix_mgh1hkvrg8o1-1,lower-latin) ") "}ol.lst-kix_gbrwmg8z6gxe-3.start{counter-reset:lst-ctn-kix_gbrwmg8z6gxe-3 0}ol.lst-kix_d5u9zlsj0wb6-5{list-style-type:none}.lst-kix_mgh1hkvrg8o1-0>li:before{content:"(" counter(lst-ctn-kix_mgh1hkvrg8o1-0,decimal) ") "}ol.lst-kix_d5u9zlsj0wb6-4{list-style-type:none}ol.lst-kix_d5u9zlsj0wb6-3{list-style-type:none}ul.lst-kix_vbgk7g81czo-1{list-style-type:none}ol.lst-kix_d5u9zlsj0wb6-2{list-style-type:none}ol.lst-kix_d5u9zlsj0wb6-4.start{counter-reset:lst-ctn-kix_d5u9zlsj0wb6-4 0}ul.lst-kix_vbgk7g81czo-0{list-style-type:none}.lst-kix_mgh1hkvrg8o1-6>li:before{content:"" counter(lst-ctn-kix_mgh1hkvrg8o1-6,decimal) ". "}.lst-kix_8y5q3oubtulz-1>li{counter-increment:lst-ctn-kix_8y5q3oubtulz-1}.lst-kix_ab6kxqnfquig-7>li{counter-increment:lst-ctn-kix_ab6kxqnfquig-7}.lst-kix_mgh1hkvrg8o1-5>li:before{content:"(" counter(lst-ctn-kix_mgh1hkvrg8o1-5,lower-roman) ") "}.lst-kix_mgh1hkvrg8o1-7>li:before{content:"" counter(lst-ctn-kix_mgh1hkvrg8o1-7,lower-latin) ". "}.lst-kix_ql97sz3ml1pg-0>li{counter-increment:lst-ctn-kix_ql97sz3ml1pg-0}.lst-kix_mgh1hkvrg8o1-3>li:before{content:"(" counter(lst-ctn-kix_mgh1hkvrg8o1-3,decimal) ") "}.lst-kix_mgh1hkvrg8o1-4>li:before{content:"(" counter(lst-ctn-kix_mgh1hkvrg8o1-4,lower-latin) ") "}.lst-kix_31wc2pg5ggbx-3>li:before{content:"\0025cf  "}.lst-kix_31wc2pg5ggbx-2>li:before{content:"\0025a0  "}.lst-kix_gbrwmg8z6gxe-0>li{counter-increment:lst-ctn-kix_gbrwmg8z6gxe-0}.lst-kix_31wc2pg5ggbx-1>li:before{content:"\0025cb  "}.lst-kix_mgh1hkvrg8o1-8>li{counter-increment:lst-ctn-kix_mgh1hkvrg8o1-8}.lst-kix_31wc2pg5ggbx-0>li:before{content:"\0025cf  "}ol.lst-kix_8y5q3oubtulz-6.start{counter-reset:lst-ctn-kix_8y5q3oubtulz-6 0}.lst-kix_d5u9zlsj0wb6-3>li{counter-increment:lst-ctn-kix_d5u9zlsj0wb6-3}ol.lst-kix_ab6kxqnfquig-1.start{counter-reset:lst-ctn-kix_ab6kxqnfquig-1 0}.lst-kix_l192sf5wbnyt-0>li{counter-increment:lst-ctn-kix_l192sf5wbnyt-0}.lst-kix_ab6kxqnfquig-7>li:before{content:"" counter(lst-ctn-kix_ab6kxqnfquig-7,lower-latin) ". "}.lst-kix_8y5q3oubtulz-3>li{counter-increment:lst-ctn-kix_8y5q3oubtulz-3}.lst-kix_ab6kxqnfquig-8>li:before{content:"" counter(lst-ctn-kix_ab6kxqnfquig-8,lower-roman) ". "}.lst-kix_l192sf5wbnyt-4>li:before{content:"" counter(lst-ctn-kix_l192sf5wbnyt-4,lower-latin) ". "}.lst-kix_l192sf5wbnyt-6>li:before{content:"" counter(lst-ctn-kix_l192sf5wbnyt-6,decimal) ". "}ol.lst-kix_8y5q3oubtulz-5.start{counter-reset:lst-ctn-kix_8y5q3oubtulz-5 0}.lst-kix_d5u9zlsj0wb6-5>li{counter-increment:lst-ctn-kix_d5u9zlsj0wb6-5}.lst-kix_l192sf5wbnyt-3>li:before{content:"" counter(lst-ctn-kix_l192sf5wbnyt-3,decimal) ". "}.lst-kix_l192sf5wbnyt-7>li:before{content:"" counter(lst-ctn-kix_l192sf5wbnyt-7,lower-latin) ". "}.lst-kix_ab6kxqnfquig-6>li:before{content:"" counter(lst-ctn-kix_ab6kxqnfquig-6,decimal) ". "}ol.lst-kix_mgh1hkvrg8o1-4.start{counter-reset:lst-ctn-kix_mgh1hkvrg8o1-4 0}.lst-kix_3ud1xylzkulg-0>li:before{content:"\0025cf  "}.lst-kix_3ud1xylzkulg-2>li:before{content:"\0025a0  "}.lst-kix_l192sf5wbnyt-0>li:before{content:"" counter(lst-ctn-kix_l192sf5wbnyt-0,decimal) ". "}.lst-kix_l192sf5wbnyt-2>li:before{content:"" counter(lst-ctn-kix_l192sf5wbnyt-2,lower-roman) ". "}.lst-kix_l192sf5wbnyt-8>li:before{content:"" counter(lst-ctn-kix_l192sf5wbnyt-8,lower-roman) ". "}.lst-kix_ab6kxqnfquig-5>li:before{content:"" counter(lst-ctn-kix_ab6kxqnfquig-5,lower-roman) ". "}ol.lst-kix_mgh1hkvrg8o1-1{list-style-type:none}ol.lst-kix_mgh1hkvrg8o1-0{list-style-type:none}.lst-kix_3ud1xylzkulg-1>li:before{content:"\0025cb  "}.lst-kix_l192sf5wbnyt-1>li:before{content:"" counter(lst-ctn-kix_l192sf5wbnyt-1,lower-latin) ". "}.lst-kix_ab6kxqnfquig-4>li:before{content:"" counter(lst-ctn-kix_ab6kxqnfquig-4,lower-latin) ". "}ol.lst-kix_mgh1hkvrg8o1-5{list-style-type:none}ol.lst-kix_mgh1hkvrg8o1-4{list-style-type:none}ol.lst-kix_mgh1hkvrg8o1-3{list-style-type:none}.lst-kix_ql97sz3ml1pg-0>li:before{content:"(" counter(lst-ctn-kix_ql97sz3ml1pg-0,decimal) ") "}.lst-kix_ql97sz3ml1pg-2>li:before{content:"" counter(lst-ctn-kix_ql97sz3ml1pg-2,lower-roman) ") "}.lst-kix_ab6kxqnfquig-1>li:before{content:"" counter(lst-ctn-kix_ab6kxqnfquig-1,lower-latin) ". "}.lst-kix_ab6kxqnfquig-3>li:before{content:"" counter(lst-ctn-kix_ab6kxqnfquig-3,decimal) ". "}ol.lst-kix_mgh1hkvrg8o1-2{list-style-type:none}ol.lst-kix_mgh1hkvrg8o1-8{list-style-type:none}ul.lst-kix_c9qjljyemz0q-1{list-style-type:none}ol.lst-kix_mgh1hkvrg8o1-7{list-style-type:none}.lst-kix_ql97sz3ml1pg-3>li:before{content:"(" counter(lst-ctn-kix_ql97sz3ml1pg-3,decimal) ") "}ul.lst-kix_c9qjljyemz0q-0{list-style-type:none}.lst-kix_ab6kxqnfquig-2>li:before{content:"" counter(lst-ctn-kix_ab6kxqnfquig-2,lower-roman) ". "}ol.lst-kix_mgh1hkvrg8o1-6{list-style-type:none}ul.lst-kix_c9qjljyemz0q-3{list-style-type:none}ul.lst-kix_c9qjljyemz0q-2{list-style-type:none}.lst-kix_ab6kxqnfquig-0>li{counter-increment:lst-ctn-kix_ab6kxqnfquig-0}ul.lst-kix_c9qjljyemz0q-5{list-style-type:none}ol.lst-kix_ql97sz3ml1pg-3.start{counter-reset:lst-ctn-kix_ql97sz3ml1pg-3 0}ul.lst-kix_c9qjljyemz0q-4{list-style-type:none}.lst-kix_ql97sz3ml1pg-4>li{counter-increment:lst-ctn-kix_ql97sz3ml1pg-4}ul.lst-kix_c9qjljyemz0q-7{list-style-type:none}ol.lst-kix_l192sf5wbnyt-4.start{counter-reset:lst-ctn-kix_l192sf5wbnyt-4 0}ul.lst-kix_c9qjljyemz0q-6{list-style-type:none}.lst-kix_ql97sz3ml1pg-1>li:before{content:"" counter(lst-ctn-kix_ql97sz3ml1pg-1,lower-latin) ") "}ul.lst-kix_c9qjljyemz0q-8{list-style-type:none}.lst-kix_l192sf5wbnyt-5>li:before{content:"" counter(lst-ctn-kix_l192sf5wbnyt-5,lower-roman) ". "}.lst-kix_ab6kxqnfquig-0>li:before{content:"" counter(lst-ctn-kix_ab6kxqnfquig-0,decimal) ". "}ol.lst-kix_d5u9zlsj0wb6-5.start{counter-reset:lst-ctn-kix_d5u9zlsj0wb6-5 0}ol.lst-kix_mgh1hkvrg8o1-5.start{counter-reset:lst-ctn-kix_mgh1hkvrg8o1-5 0}.lst-kix_vbgk7g81czo-0>li:before{content:"\0025cf  "}.lst-kix_vbgk7g81czo-1>li:before{content:"\0025cb  "}.lst-kix_l192sf5wbnyt-2>li{counter-increment:lst-ctn-kix_l192sf5wbnyt-2}ol.lst-kix_gbrwmg8z6gxe-4.start{counter-reset:lst-ctn-kix_gbrwmg8z6gxe-4 0}.lst-kix_3ud1xylzkulg-8>li:before{content:"\0025a0  "}ol.lst-kix_ab6kxqnfquig-6.start{counter-reset:lst-ctn-kix_ab6kxqnfquig-6 0}.lst-kix_mgh1hkvrg8o1-8>li:before{content:"" counter(lst-ctn-kix_mgh1hkvrg8o1-8,lower-roman) ". "}ol.lst-kix_l192sf5wbnyt-5.start{counter-reset:lst-ctn-kix_l192sf5wbnyt-5 0}.lst-kix_8y5q3oubtulz-7>li{counter-increment:lst-ctn-kix_8y5q3oubtulz-7}.lst-kix_vbgk7g81czo-6>li:before{content:"\0025cf  "}.lst-kix_mgh1hkvrg8o1-6>li{counter-increment:lst-ctn-kix_mgh1hkvrg8o1-6}.lst-kix_3ud1xylzkulg-4>li:before{content:"\0025cb  "}.lst-kix_3ud1xylzkulg-6>li:before{content:"\0025cf  "}.lst-kix_vbgk7g81czo-5>li:before{content:"\0025a0  "}.lst-kix_gbrwmg8z6gxe-4>li{counter-increment:lst-ctn-kix_gbrwmg8z6gxe-4}.lst-kix_gbrwmg8z6gxe-7>li{counter-increment:lst-ctn-kix_gbrwmg8z6gxe-7}.lst-kix_3ud1xylzkulg-3>li:before{content:"\0025cf  "}.lst-kix_3ud1xylzkulg-7>li:before{content:"\0025cb  "}.lst-kix_vbgk7g81czo-3>li:before{content:"\0025cf  "}.lst-kix_vbgk7g81czo-2>li:before{content:"\0025a0  "}.lst-kix_vbgk7g81czo-4>li:before{content:"\0025cb  "}.lst-kix_3ud1xylzkulg-5>li:before{content:"\0025a0  "}ul.lst-kix_31wc2pg5ggbx-6{list-style-type:none}.lst-kix_qudvnvgs7uwa-1>li:before{content:"\0025cb  "}ul.lst-kix_qudvnvgs7uwa-8{list-style-type:none}ul.lst-kix_31wc2pg5ggbx-5{list-style-type:none}ul.lst-kix_qudvnvgs7uwa-7{list-style-type:none}ul.lst-kix_31wc2pg5ggbx-8{list-style-type:none}ul.lst-kix_31wc2pg5ggbx-7{list-style-type:none}ol.lst-kix_ab6kxqnfquig-0.start{counter-reset:lst-ctn-kix_ab6kxqnfquig-0 0}ul.lst-kix_qudvnvgs7uwa-0{list-style-type:none}ul.lst-kix_qudvnvgs7uwa-2{list-style-type:none}ul.lst-kix_qudvnvgs7uwa-1{list-style-type:none}.lst-kix_qudvnvgs7uwa-3>li:before{content:"\0025cf  "}ul.lst-kix_qudvnvgs7uwa-4{list-style-type:none}ul.lst-kix_qudvnvgs7uwa-3{list-style-type:none}ul.lst-kix_qudvnvgs7uwa-6{list-style-type:none}ul.lst-kix_qudvnvgs7uwa-5{list-style-type:none}.lst-kix_d5u9zlsj0wb6-2>li:before{content:"" counter(lst-ctn-kix_d5u9zlsj0wb6-2,lower-roman) ". "}.lst-kix_vbgk7g81czo-7>li:before{content:"\0025cb  "}ol.lst-kix_ab6kxqnfquig-2{list-style-type:none}ol.lst-kix_gbrwmg8z6gxe-7.start{counter-reset:lst-ctn-kix_gbrwmg8z6gxe-7 0}.lst-kix_ab6kxqnfquig-1>li{counter-increment:lst-ctn-kix_ab6kxqnfquig-1}ol.lst-kix_ab6kxqnfquig-3{list-style-type:none}ol.lst-kix_ab6kxqnfquig-4{list-style-type:none}ol.lst-kix_ab6kxqnfquig-5{list-style-type:none}ol.lst-kix_ql97sz3ml1pg-8.start{counter-reset:lst-ctn-kix_ql97sz3ml1pg-8 0}ol.lst-kix_ab6kxqnfquig-0{list-style-type:none}.lst-kix_qudvnvgs7uwa-5>li:before{content:"\0025a0  "}ol.lst-kix_ab6kxqnfquig-1{list-style-type:none}.lst-kix_l192sf5wbnyt-7>li{counter-increment:lst-ctn-kix_l192sf5wbnyt-7}.lst-kix_gbrwmg8z6gxe-5>li{counter-increment:lst-ctn-kix_gbrwmg8z6gxe-5}ul.lst-kix_31wc2pg5ggbx-0{list-style-type:none}ul.lst-kix_31wc2pg5ggbx-2{list-style-type:none}.lst-kix_d5u9zlsj0wb6-0>li:before{content:"" counter(lst-ctn-kix_d5u9zlsj0wb6-0,decimal) ". "}.lst-kix_miopmumpit9p-7>li:before{content:"\0025cb  "}ol.lst-kix_ab6kxqnfquig-6{list-style-type:none}ul.lst-kix_31wc2pg5ggbx-1{list-style-type:none}ol.lst-kix_ab6kxqnfquig-3.start{counter-reset:lst-ctn-kix_ab6kxqnfquig-3 0}ol.lst-kix_ab6kxqnfquig-7{list-style-type:none}.lst-kix_ql97sz3ml1pg-7>li{counter-increment:lst-ctn-kix_ql97sz3ml1pg-7}ul.lst-kix_31wc2pg5ggbx-4{list-style-type:none}ol.lst-kix_ab6kxqnfquig-8{list-style-type:none}ol.lst-kix_8y5q3oubtulz-4.start{counter-reset:lst-ctn-kix_8y5q3oubtulz-4 0}ul.lst-kix_31wc2pg5ggbx-3{list-style-type:none}.lst-kix_qudvnvgs7uwa-7>li:before{content:"\0025cb  "}ol.lst-kix_mgh1hkvrg8o1-3.start{counter-reset:lst-ctn-kix_mgh1hkvrg8o1-3 0}.lst-kix_gbrwmg8z6gxe-6>li{counter-increment:lst-ctn-kix_gbrwmg8z6gxe-6}ol.lst-kix_ql97sz3ml1pg-5.start{counter-reset:lst-ctn-kix_ql97sz3ml1pg-5 0}.lst-kix_8y5q3oubtulz-6>li{counter-increment:lst-ctn-kix_8y5q3oubtulz-6}.lst-kix_ab6kxqnfquig-3>li{counter-increment:lst-ctn-kix_ab6kxqnfquig-3}.lst-kix_ql97sz3ml1pg-7>li:before{content:"" counter(lst-ctn-kix_ql97sz3ml1pg-7,lower-latin) ". "}.lst-kix_d5u9zlsj0wb6-6>li:before{content:"" counter(lst-ctn-kix_d5u9zlsj0wb6-6,decimal) ". "}.lst-kix_c9qjljyemz0q-7>li:before{content:"\0025cb  "}ol.lst-kix_d5u9zlsj0wb6-0.start{counter-reset:lst-ctn-kix_d5u9zlsj0wb6-0 0}ol.lst-kix_mgh1hkvrg8o1-0.start{counter-reset:lst-ctn-kix_mgh1hkvrg8o1-0 0}.lst-kix_d5u9zlsj0wb6-4>li:before{content:"" counter(lst-ctn-kix_d5u9zlsj0wb6-4,lower-latin) ". "}.lst-kix_ql97sz3ml1pg-5>li:before{content:"(" counter(lst-ctn-kix_ql97sz3ml1pg-5,lower-roman) ") "}ul.lst-kix_3ud1xylzkulg-0{list-style-type:none}ul.lst-kix_3ud1xylzkulg-1{list-style-type:none}.lst-kix_c9qjljyemz0q-3>li:before{content:"\0025cf  "}.lst-kix_c9qjljyemz0q-5>li:before{content:"\0025a0  "}ul.lst-kix_3ud1xylzkulg-4{list-style-type:none}ul.lst-kix_3ud1xylzkulg-5{list-style-type:none}.lst-kix_l192sf5wbnyt-6>li{counter-increment:lst-ctn-kix_l192sf5wbnyt-6}ul.lst-kix_3ud1xylzkulg-2{list-style-type:none}ul.lst-kix_3ud1xylzkulg-3{list-style-type:none}ul.lst-kix_3ud1xylzkulg-8{list-style-type:none}ol.lst-kix_l192sf5wbnyt-0.start{counter-reset:lst-ctn-kix_l192sf5wbnyt-0 0}ul.lst-kix_3ud1xylzkulg-6{list-style-type:none}.lst-kix_c9qjljyemz0q-1>li:before{content:"\0025cb  "}ul.lst-kix_3ud1xylzkulg-7{list-style-type:none}ol.lst-kix_l192sf5wbnyt-3.start{counter-reset:lst-ctn-kix_l192sf5wbnyt-3 0}.lst-kix_d5u9zlsj0wb6-8>li:before{content:"" counter(lst-ctn-kix_d5u9zlsj0wb6-8,lower-roman) ". "}.lst-kix_mgh1hkvrg8o1-4>li{counter-increment:lst-ctn-kix_mgh1hkvrg8o1-4}ol.lst-kix_ab6kxqnfquig-2.start{counter-reset:lst-ctn-kix_ab6kxqnfquig-2 0}ol.lst-kix_8y5q3oubtulz-2.start{counter-reset:lst-ctn-kix_8y5q3oubtulz-2 0}ol.lst-kix_gbrwmg8z6gxe-8.start{counter-reset:lst-ctn-kix_gbrwmg8z6gxe-8 0}ol.lst-kix_mgh1hkvrg8o1-1.start{counter-reset:lst-ctn-kix_mgh1hkvrg8o1-1 0}.lst-kix_8y5q3oubtulz-1>li:before{content:"" counter(lst-ctn-kix_8y5q3oubtulz-1,lower-latin) ") "}.lst-kix_8y5q3oubtulz-3>li:before{content:"(" counter(lst-ctn-kix_8y5q3oubtulz-3,decimal) ") "}ol.lst-kix_d5u9zlsj0wb6-3.start{counter-reset:lst-ctn-kix_d5u9zlsj0wb6-3 0}ol.lst-kix_ql97sz3ml1pg-6.start{counter-reset:lst-ctn-kix_ql97sz3ml1pg-6 0}.lst-kix_8y5q3oubtulz-5>li{counter-increment:lst-ctn-kix_8y5q3oubtulz-5}ol.lst-kix_8y5q3oubtulz-1.start{counter-reset:lst-ctn-kix_8y5q3oubtulz-1 0}.lst-kix_31wc2pg5ggbx-4>li:before{content:"\0025cb  "}.lst-kix_31wc2pg5ggbx-6>li:before{content:"\0025cf  "}.lst-kix_8y5q3oubtulz-5>li:before{content:"(" counter(lst-ctn-kix_8y5q3oubtulz-5,lower-roman) ") "}.lst-kix_8y5q3oubtulz-7>li:before{content:"" counter(lst-ctn-kix_8y5q3oubtulz-7,lower-latin) ". "}.lst-kix_ql97sz3ml1pg-8>li{counter-increment:lst-ctn-kix_ql97sz3ml1pg-8}ol.lst-kix_l192sf5wbnyt-1.start{counter-reset:lst-ctn-kix_l192sf5wbnyt-1 0}ol.lst-kix_d5u9zlsj0wb6-2.start{counter-reset:lst-ctn-kix_d5u9zlsj0wb6-2 0}ol.lst-kix_mgh1hkvrg8o1-2.start{counter-reset:lst-ctn-kix_mgh1hkvrg8o1-2 0}.lst-kix_31wc2pg5ggbx-8>li:before{content:"\0025a0  "}.lst-kix_d5u9zlsj0wb6-4>li{counter-increment:lst-ctn-kix_d5u9zlsj0wb6-4}.lst-kix_ab6kxqnfquig-8>li{counter-increment:lst-ctn-kix_ab6kxqnfquig-8}.lst-kix_ql97sz3ml1pg-2>li{counter-increment:lst-ctn-kix_ql97sz3ml1pg-2}ol.lst-kix_ql97sz3ml1pg-7.start{counter-reset:lst-ctn-kix_ql97sz3ml1pg-7 0}.lst-kix_ab6kxqnfquig-2>li{counter-increment:lst-ctn-kix_ab6kxqnfquig-2}ol{margin:0;padding:0}table td,table th{padding:0}.c17{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:109.5pt;border-top-color:#000000;border-bottom-style:solid}.c9{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:108.8pt;border-top-color:#000000;border-bottom-style:solid}.c18{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:102pt;border-top-color:#000000;border-bottom-style:solid}.c5{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:130.5pt;border-top-color:#000000;border-bottom-style:solid}.c13{color:#000000;font-weight:normal;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Arial";font-style:normal}.c20{color:#000000;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Arial";font-style:normal}.c23{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c25{border-spacing:0;border-collapse:collapse;margin-right:auto}.c4{margin-left:36pt;orphans:2;widows:2;padding-left:0pt}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c2{page-break-after:avoid;orphans:2;widows:2}.c27{background-color:#ffffff;max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c21{color:#b7b7b7;font-size:6pt}.c16{color:inherit;text-decoration:inherit}.c12{margin-left:63pt;padding-left:0pt}.c22{padding:0;margin:0}.c6{orphans:2;widows:2}.c19{color:#1155cc;text-decoration:underline}.c10{height:11pt}.c26{text-indent:36pt}.c24{background-color:#ffff00}.c3{font-family:"Courier New"}.c11{margin-left:72pt}.c0{height:0pt}.c8{font-weight:bold}.c7{color:#ff0000}.c15{font-style:italic}.c14{margin-left:36pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c27"><p class="c2 title" id="h.1ywjvcdksqkc"><span class="c19"><a class="c16" href="https://www.google.com/url?q=https://www.openactive.io/&amp;sa=D&amp;ust=1462330697503000&amp;usg=AFQjCNG6mkqeeGcCSU-HNMEzftqqFo464w">Openactive</a></span><span>&nbsp;Real-Time Paged Data Exchange Standard v0.2.2 (draft)</span></p><h2 class="c2" id="h.wmbmc4i7bhhr"><span>Document Purpose</span></h2><p class="c6"><span>This document represents an </span><span class="c8">early draft</span><span>&nbsp;of a standard for real-time paged data exchange for physical activity data. It is likely to change between now and the first published version, so this document should only be used to guide implementations in conversation with the </span><span class="c19"><a class="c16" href="https://www.google.com/url?q=https://www.openactive.io/&amp;sa=D&amp;ust=1462330697504000&amp;usg=AFQjCNE44jNS6LjjBBWOdJp7sVJLoF3WyA">Openactive</a></span><span>&nbsp;community where the quick win of data sharing and shared learning are high priorities.</span></p><h2 class="c2" id="h.goki62nh647y"><span>Scope</span></h2><p class="c6"><span>This standard is tightly defined to cover data exchange and synchronisation itself; to cover the real-time exchange of generic entities between two systems.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>Goals:</span></p><ul class="c22 lst-kix_31wc2pg5ggbx-0 start"><li class="c4"><span>Sharing of session data, including related metadata (clubs, courses, membership requirements, skill level, cost), and events (e.g. open days).</span></li><li class="c4"><span>Paging and synchronization to ensure robust incremental transport of data.</span></li><li class="c4"><span>Allows a client to &ldquo;refresh its cache&rdquo;, by providing the facility to download all data.</span></li><li class="c4"><span>(Stretch goal) Extendable to support real-time, high volume data transfer, to satisfy peak load requirements.</span></li></ul><p class="c6 c10"><span></span></p><p class="c6"><span>Non-Goals:</span></p><ul class="c22 lst-kix_vbgk7g81czo-0 start"><li class="c4"><span>User Authentication.</span></li><li class="c4"><span>Booking and payment.</span></li><li class="c4"><span>Availability of courts and facilities.</span></li><li class="c4"><span>Membership packages.</span></li><li class="c4"><span>Standardisation of content (e.g. &ldquo;Football&rdquo; = &ldquo;Soccer&rdquo;).</span></li></ul><h2 class="c2" id="h.adpak2py6sh6"><span>Objectives</span></h2><ul class="c22 lst-kix_c9qjljyemz0q-0 start"><li class="c4"><span>Easy to understand</span></li><li class="c4"><span>Simple to implement (does not require complex libraries)</span></li><li class="c4"><span>Based on existing standards where possible</span></li><li class="c4"><span>Minimalistic (focus on removing complexity)</span></li><li class="c4"><span>Minimise traffic between services</span></li><li class="c4"><span>Robust to errors and failed requests</span></li><li class="c4"><span>Capable of scaling to handle high volumes</span></li></ul><h2 class="c2" id="h.se1miig0qb2w"><span>Contents</span></h2><ol class="c22 lst-kix_gbrwmg8z6gxe-0 start" start="1"><li class="c4"><span class="c8">Overall approach</span></li></ol><p class="c6 c14"><span>Explanation of the construction of this standard.</span></p><p class="c6 c10"><span class="c8"></span></p><ol class="c22 lst-kix_gbrwmg8z6gxe-0" start="2"><li class="c4"><span class="c8">Robust Paged JSON Data Exchange</span></li></ol><p class="c6 c14"><span>A paged approach to JSON data exchange requiring minimum traffic for real-time or near-real-time synchronisation</span></p><p class="c6 c10"><span class="c8"></span></p><ol class="c22 lst-kix_gbrwmg8z6gxe-0" start="3"><li class="c4"><span class="c8">Real-time Transport Mechanism</span></li></ol><p class="c6 c14"><span>A number of options that covers different levels of complexity and data volume:</span></p><ol class="c22 lst-kix_ab6kxqnfquig-1 start" start="1"><li class="c12 c6"><span>Polling</span></li><li class="c12 c6"><span>Webhooks</span></li><li class="c6 c12"><span>Server-Sent Events</span></li><li class="c12 c6"><span>AMQP</span></li></ol><p class="c6 c10"><span class="c8"></span></p><ol class="c22 lst-kix_gbrwmg8z6gxe-0" start="4"><li class="c4"><span class="c8">Implementation</span></li></ol><p class="c6 c14"><span>Three common patterns of implementation are presented, along with specific advantages and disadvantages of each, together with miscellaneous notes:</span></p><ol class="c22 lst-kix_d5u9zlsj0wb6-1 start" start="1"><li class="c12 c6"><span>Single JSON entity cache table</span></li><li class="c12 c6"><span>Multiple table on-demand JSON generation </span></li><li class="c12 c6"><span>Hybrid approach: paging table</span></li><li class="c12 c6"><span>Additional notes</span></li></ol><h2 class="c2" id="h.1v4vt28da41k"><span>1. Overall approach</span></h2><p class="c6"><span>In order to create a simple standard that is robust and scalable, the transport mechanism is separated from the paged exchange specifics. By applying paging to all transport alternatives, the approach is inherently scalable.</span></p><p class="c6 c14"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 438.00px; height: 186.00px;"><img alt="" src="images/image02.png" style="width: 438.00px; height: 186.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h2 class="c2" id="h.qrv8poymuwuh"><span>2. Robust Paged JSON Data Exchange</span></h2><p class="c6"><span>The paged JSON data exchange standard is incredibly simple to implement, but conceptually requires some explanation.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>Consider the data exchanged as pages of a continuous stream of records which are sorted first by modified timestamp, and second by ID. This dual sort allows for pages of arbitrary size to be sent without concern for race conditions; if a record is updated during the transfer it will simply reappear further down the stream. If the consumer reaches the end of the stream they are up-to-date, and can frequently revisit the end of the stream in order to retrieve further updates.</span></p><p class="c6 c14"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 457.00px; height: 318.50px;"><img alt="" src="images/image00.png" style="width: 457.00px; height: 318.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6 c10"><span></span></p><p class="c6"><span>Specifically, a JSON page is exchanged, the content of which is defined by two parameters:</span></p><ul class="c22 lst-kix_qudvnvgs7uwa-0 start"><li class="c4"><span class="c8">from</span><span>: the modified timestamp, </span><span class="c15">after</span><span>&nbsp;which results will be returned (if not specified will return from beginning of time)</span></li><li class="c4"><span class="c8">after</span><span>: the ID </span><span class="c15">after</span><span>&nbsp;which results will be returned (if not specified will return all IDs from the first)</span></li></ul><p class="c6 c10"><span></span></p><p class="c6"><span>Note that the &ldquo;modified timestamp&rdquo; (&ldquo;from&rdquo; parameter) does not need to be an actual time that can be associated with a clock to conform to this standard;</span><span>&nbsp;a </span><span>database-wide counter is sufficient (such as SQL Server&rsquo;s </span><span class="c19"><a class="c16" href="https://www.google.com/url?q=https://msdn.microsoft.com/en-us/library/ms182776(v%3DSQL.90).aspx&amp;sa=D&amp;ust=1462330697517000&amp;usg=AFQjCNGoyGjYvjmR1RFcjWRR3ZU70Z4r2A">timestamp</a></span><span>&nbsp;or </span><span class="c19"><a class="c16" href="https://www.google.com/url?q=https://msdn.microsoft.com/en-GB/library/ms182776.aspx&amp;sa=D&amp;ust=1462330697517000&amp;usg=AFQjCNEvxJCilluN75w6wsEgMuJzR5u32w">rowversion</a></span><span>, the former deprecated as of SQL Server 2012 in favour of the latter). </span><span>The consumer (&ldquo;System 2&rdquo;) maintains a timestamp cursor for each endpoint independently, so at a minimum the &ldquo;modified&rdquo; field must provide a deterministic chronological ordering within the scope of the endpoint only.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>In the example diagram above, from=</span><span class="c7">1453931925</span><span>&amp;after=</span><span class="c7">12</span><span>&nbsp;would return the second page indicated, hence the last record of a returned page of results can be used as parameters to retrieve the next page of results. This paging allows for an ongoing data synchronisation that synchronizes all data, which can be replayed arbitrarily by the client.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>For a single entity type (e.g. sessions), the data returned can be defined as follows:</span></p><p class="c6 c14"><span class="c3">var query;</span></p><p class="c6 c14"><span class="c3">if (queryParams.from) {</span></p><p class="c6 c11"><span class="c3">query = Session.query().filter((</span><span class="c3 c8">Session.modified == queryParams.from &amp;&amp; Session.id &gt; queryParams.after</span><span class="c3">) || (</span><span class="c3 c8">Session.modified &gt; queryParams.from</span><span class="c3">));</span></p><p class="c6 c14"><span class="c3">} else {</span></p><p class="c6 c11"><span class="c3">query = Session.query()</span></p><p class="c6 c14"><span class="c3">}</span></p><p class="c6 c14"><span class="c3">return query.sort([Session.modified, Session.id])</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>The above can be run for </span><span>each </span><span>relevant entity type</span><span>&nbsp;(e.g. club, courses, sessions), and they can be reassembled by the client.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>Response grammar / example</span><span>&nbsp;with notes:</span></p><ol class="c22 lst-kix_ql97sz3ml1pg-0 start" start="1"><li class="c4"><span>A suggested generic response standard is included here, the idea being that we standardise the transport encapsulation for the records (paging and polling logic) across entities and systems so that, we can genericise this logic on both sides.</span></li><li class="c4"><span>The &ldquo;kind&rdquo; attribute allows for the representation of different entity types. The standard does not advocate embedding of child entities if they change more frequently than the parent. Each entity type (&ldquo;kind&rdquo;) can be synchronised separately, this allows us to decouple the sync logic from the data structure, and allows us to reassemble the data structure on the client side. It also makes the implementation very simple.</span></li><li class="c4"><span>The &lt;data&gt; part of the response is then open for whatever data structure is most appropriate for the particular entity type (&ldquo;kind&rdquo;).</span></li><li class="c4"><span>Deleted items are included in the response with a &ldquo;deleted&rdquo; state, but no &lt;data&gt; associated.</span></li><li class="c4"><span>For polling, the &ldquo;next&rdquo; URL in the response is a precomputed next URL that would be called by the client to get the next page (which would be polled after a delay if the previous page had returned no data). Note &ldquo;polling&rdquo; and &ldquo;paging&rdquo; are differentiated only by the duration between requests.</span></li><li class="c4"><span>Although IDs shown here are GUIDs, and above are numeric, and although the example above shows Unix timestamps, the standard does not prescribe any specific format of either.</span></li><li class="c4"><span>Although IDs are provided for other related entities, this structure is not part of the standard.</span></li><li class="c4"><span>Although an example endpoint name is provided, this is outside the scope of this standard.</span></li></ol><p class="c6 c10"><span></span></p><p class="c6 c14"><span class="c3">&lt;response&gt; =&gt; { </span><span class="c8 c7">(1)</span></p><p class="c6 c26 c14"><span class="c3">items: [&lt;item&gt;,&lt;item&gt;,&lt;item&gt;,...],</span></p><p class="c6 c14 c26"><span class="c3">next: &#39;</span><span class="c3">/getSessions?from=&lt;date&gt;&amp;after=</span><span class="c3">&lt;id&gt;</span><span class="c3">&#39; </span><span class="c8 c7">(5)</span></p><p class="c6 c14"><span class="c3">&nbsp; &nbsp;}</span></p><p class="c6 c10 c14"><span class="c3"></span></p><p class="c6 c14"><span class="c3">&lt;item&gt; =&gt; {</span></p><p class="c6 c11"><span class="c3">state: </span><span class="c3">&#39;updated&#39; | &#39;deleted&#39;</span><span class="c3">, </span><span class="c8 c7">(4)</span></p><p class="c6 c11"><span class="c3">kind</span><span class="c3">: &quot;session&quot;, </span><span class="c8 c7">(2)</span></p><p class="c6 c11"><span class="c3">id: &quot;{21EC2020-3AEA-4069-A2DD-08002B303123}&quot;, </span><span class="c8 c7">(6)</span></p><p class="c6 c11"><span class="c3">modified: Date(a),</span></p><p class="c6 c11"><span class="c3">data: &lt;data&gt; </span><span class="c8 c7">(4)</span></p><p class="c6 c14"><span class="c3">&nbsp; &nbsp;}</span></p><p class="c6 c10 c14"><span class="c3"></span></p><p class="c6 c14"><span class="c3">&lt;data&gt;</span><span class="c3">&nbsp;=&gt; { </span><span class="c8 c7">(3)</span></p><p class="c6 c11"><span class="c3">lat: 51.5072,</span></p><p class="c6 c26 c14"><span class="c3">lng: -0.1275,</span></p><p class="c6 c11"><span class="c3">name: &#39;Acrobatics with Dave&#39;,</span></p><p class="c6"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">groupId: &quot;{0657FD6D-A4AB-43C4-84E5-0933C84B4F4F}&quot;</span><span class="c3">&nbsp;</span><span class="c8 c7">(7)</span></p><p class="c6 c11"><span class="c3">clubId: &quot;{38A52BE4-9352-453E-AF97-5C3B448652F0}&quot;</span></p><p class="c6 c14"><span class="c3">&nbsp; &nbsp;}</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>A full example REST response from polling:</span></p><p class="c6 c14"><span class="c3">/getSessions?</span><span class="c3">from</span><span class="c3">=Date(a)</span></p><p class="c6 c14"><span class="c3">-&gt; { items: [{</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;state: &#39;updated&#39;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;kind: &ldquo;session&rdquo;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;id: &ldquo;{c15814e5-8931-470c-8a16-ef45afedaece}&rdquo;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;modified: Date(a),</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;data: {</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp;lat: 51.5072,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp;lng: -0.1275,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp;name: &#39;Acrobatics with Dave&#39;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp;clubId: &quot;{fc1f0f87-0538-4b05-96a0-cee88b9c3377}&quot;</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;} </span></p><p class="c6 c11"><span class="c3">},{</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;state: &#39;deleted&#39;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;kind: &ldquo;session&rdquo;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;id: &ldquo;{d97f73fb-4718-48ee-a6a9-9c7d717ebd85}&rdquo;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;modified: Date(b)</span></p><p class="c6 c11"><span class="c3">}],</span></p><p class="c6 c11"><span class="c3">next: &#39;/getSessions?from=Date(b)&amp;after={d97f73fb-4718-48ee-a6a9-9c7d717ebd85}&#39;</span></p><p class="c6 c14"><span class="c3">}</span></p><p class="c6 c10"><span></span></p><h2 class="c2" id="h.gcmods7h8z88"><span>3. Transport Mechanism</span></h2><p class="c6"><span>These transport options cover different levels of complexity and data volume. Note that in all cases polling must be implemented to support a full cache refresh and data download. The real-time transport mechanisms work alongside infrequent polling to keep the data current.</span></p><p class="c6"><span>In the case of real time transport failure, a production client implementation can fall back to polling.</span></p><p class="c6 c10"><span></span></p><a id="t.17bf46bce13f79b91fb59ed3de9f63c3d56eab44"></a><a id="t.0"></a><table class="c25"><tbody><tr class="c0"><td class="c18" colspan="1" rowspan="1"><p class="c1"><span class="c8 c20">Transport Options</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c1"><span class="c20 c8">Advantages</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c1"><span class="c20 c8">Disadvantages</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c1"><span class="c20 c8">Primary Use Case</span></p></td></tr><tr class="c0"><td class="c18" colspan="1" rowspan="1"><p class="c1"><span class="c13">Polling</span></p><p class="c1"><span class="c13">(Simple download)</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c1"><span class="c13">Simple to implement</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c1"><span class="c13">Does not provide a real-time feed, and heuristic polling will result in patchy sync</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c1"><span class="c13">Full cache refresh (also can be used in isolation for prototype implementation).</span></p></td></tr><tr class="c0"><td class="c18" colspan="1" rowspan="1"><p class="c1"><span class="c13">Webhooks</span></p><p class="c1"><span class="c13">(Real-time)</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c1"><span class="c13">Less traffic than polling, more server-side control, allows for real-time, uses standard REST interface</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c1"><span class="c13">Uses many high-latency connections</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c1"><span class="c13">Basic production implementation</span></p></td></tr><tr class="c0"><td class="c18" colspan="1" rowspan="1"><p class="c1"><span class="c13">Server-Sent Events</span></p><p class="c1"><span class="c13">(Real-time)</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c1"><span class="c13">Optimisation over webhooks as uses one connection, so can handle higher volume</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c1"><span class="c13">Requires additional libraries</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c1"><span class="c13">High volume production implementation</span></p></td></tr><tr class="c0"><td class="c18" colspan="1" rowspan="1"><p class="c1"><span class="c13">AMQP</span></p><p class="c1"><span class="c13">(Real-time)</span></p></td><td class="c5" colspan="1" rowspan="1"><p class="c1"><span class="c13">Pages can be handed off to the queue to facilitate even higher volume than Server-Sent Events</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c1"><span class="c13">Requires additional infrastructure</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c1"><span class="c13">Very high volume production implementation</span></p></td></tr></tbody></table><p class="c6 c10"><span></span></p><h3 class="c2" id="h.oxmhf1pwuklm"><span>a. Polling</span></h3><p class="c6"><span>A basic REST endpoint which accepts the </span><span class="c8">from</span><span>&nbsp;and </span><span class="c8">after</span><span>&nbsp;parameters is required to allow a full cache refresh / data download on demand (e.g. </span><span class="c3">/getSessions?from=Date(b)&amp;after={d97f73fb}</span><span>).</span></p><p class="c6"><span><br>For cases where only a polling endpoint is available, the client will poll the endpoint using heuristic backoff.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>Implementation of at least one other type of endpoint is recommended in order to enable real-time updates.</span></p><h3 class="c2" id="h.x7iz0ctm1fou"><span>b. Webhooks</span></h3><p class="c6"><span>Webhooks use the same mechanism as polling, except that pages are pushed from server to client, rather than requested explicitly by the client from the server.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>The client registers an endpoint with the server, and the server repeatedly sends subsequent pages to the client. Using the same paging features as with polling allows the server to batch items to increase throughput.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>When sending a particular page to the client the server is expected to wait for a successful acknowledgement of the page before sending the next page. If sending of a page fails that page should be continuously retried with an exponential backoff. The server should only proceed to the following page after successfully sending the previous one.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>Note that during a full cache refresh the client will page the server for all data, and may simultaneously be receiving webhook requests from the client. Using the timestamp of each record to ensure records are only updated with newer data, the client is able to perform both the full cache refresh and receive webhook requests simultaneously. Alternatively the client can choose to drop webhook requests until its full cache refresh is complete, which should trigger the exponential backoff behaviour from the server, ensuring a good crossover in items between the end of the cache refresh and the webhook updates resuming.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>Example payload for the webhook:</span></p><ol class="c22 lst-kix_mgh1hkvrg8o1-0 start" start="1"><li class="c4"><span>Note that the &ldquo;next&rdquo; from the response is not required here. Instead, </span><span class="c8">from</span><span>&nbsp;and </span><span class="c8">after</span><span>&nbsp;should be stored for each client of the server, in order that the server is able to send the relevant next page to each client.</span></li></ol><p class="c6 c10"><span></span></p><p class="c6 c14"><span class="c3">/putSessions</span></p><p class="c6 c14"><span class="c3">-&gt; { items: [{</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;state: &#39;updated&#39;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;kind: &ldquo;session&rdquo;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;id: &ldquo;{c15814e5-8931-470c-8a16-ef45afedaece}&rdquo;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;modified: Date(a),</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;data: {</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp;lat: 51.5072,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp;lng: -0.1275,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp;name: &#39;Acrobatics with Dave&#39;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp;clubId: &quot;{fc1f0f87-0538-4b05-96a0-cee88b9c3377}&quot;</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;} </span></p><p class="c6 c11"><span class="c3">},{</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;state: &#39;deleted&#39;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;kind: &ldquo;session&rdquo;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;id: &ldquo;{d97f73fb-4718-48ee-a6a9-9c7d717ebd85}&rdquo;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;modified: Date(b)</span></p><p class="c6 c11"><span class="c3">}] </span><span class="c8 c7">(1)</span></p><p class="c6 c14"><span class="c3">}</span></p><p class="c6 c10"><span></span></p><h3 class="c2" id="h.7k3hrfw1j3m4"><span>c. Server-Sent Events</span></h3><p class="c6"><span class="c19"><a class="c16" href="https://www.google.com/url?q=https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events&amp;sa=D&amp;ust=1462330697564000&amp;usg=AFQjCNEf3cmg5MDOeEGchjQBGH0TEB6g6A">Server-Sent Events</a></span><span>&nbsp;(over HTTPS) provides a simple and efficient channel through which a high volume of updates can pass. Although an additional library may be required depending on the servers&rsquo; platform, it is a very light implementation.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>The responsibility is on the client to reestablish a connection to the server and inform it of the last retrieved record in order to continue the stream, which is closer to polling than to webhooks.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>Response grammar / example</span><span>&nbsp;with notes:</span></p><ol class="c22 lst-kix_8y5q3oubtulz-0 start" start="1"><li class="c23 c4"><span>Only the &lt;item&gt; from the &lt;response&gt; is required here, and is passed as &ldquo;data&rdquo; (the Server-Sent Event specification of &ldquo;data&rdquo;, which is different from the &ldquo;data&rdquo; part of the item). The explicit paging used with polling and webhooks is made redundant as this is a continuous stream over one connection.</span></li><li class="c4"><span>The event type is always set to &ldquo;itemupdate&rdquo;, as the state of each item is set with the &ldquo;state&rdquo; field consistent with polling.</span></li></ol><p class="c6 c10"><span></span></p><p class="c6 c14"><span class="c3">/stream?from=Date(b)&amp;after={d97f73fb-4718-48ee-a6a9-9c7d717ebd85}</span></p><p class="c6 c14"><span class="c3">-&gt;</span></p><p class="c6 c14"><span class="c3 c8">event: itemupdate </span><span class="c8 c7">(2)</span></p><p class="c6 c14"><span class="c3 c8">data: </span><span class="c3">&lt;item&gt; </span><span class="c8 c7">(1)</span></p><p class="c6 c10"><span></span></p><p class="c6 c10"><span></span></p><p class="c6"><span>An example stream is below:</span></p><p class="c23 c6 c14"><span class="c3">/stream?from=Date(a)&amp;after={a97f73fb-4718-48ee-a6a9-9c7d717ebd85}</span></p><p class="c23 c6 c14"><span class="c3">-&gt;</span></p><p class="c23 c6 c14"><span class="c3 c8">event: itemupdate</span></p><p class="c23 c6 c14"><span class="c3 c8">data: </span><span class="c3">{</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;state: &#39;updated&#39;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;kind: &ldquo;session&rdquo;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;id: &ldquo;{c15814e5-8931-470c-8a16-ef45afedaece}&rdquo;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;modified: Date(a),</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;data: {</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp;lat: 51.5072,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp;lng: -0.1275,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp;name: &#39;Acrobatics with Dave&#39;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp; &nbsp; &nbsp;clubId: &quot;{fc1f0f87-0538-4b05-96a0-cee88b9c3377}&quot;</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;}</span></p><p class="c6 c10 c14 c23"><span class="c3"></span></p><p class="c23 c6 c14"><span class="c3 c8">event: itemupdate</span></p><p class="c23 c6 c14"><span class="c3 c8">data: </span><span class="c3">{</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;state: &#39;deleted&#39;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;kind: &ldquo;session&rdquo;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;id: &ldquo;{d97f73fb-4718-48ee-a6a9-9c7d717ebd85}&rdquo;,</span></p><p class="c6 c11"><span class="c3">&nbsp; &nbsp;modified: Date(b)</span></p><p class="c6 c11"><span class="c3">}</span></p><h3 class="c2" id="h.nsiw9kvf89c"><span>d. AMQP</span></h3><p class="c6"><span class="c19"><a class="c16" href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol&amp;sa=D&amp;ust=1462330697574000&amp;usg=AFQjCNH63Fl5V3Fc3D50ErmXVT3TOVRnaQ">AMQP</a></span><span>&nbsp;(RabbitMQ et. al.) provides a two way channel for events which includes buffering and multiple connections to increase throughput.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>As with Server-sent events, only the &lt;item&gt; from the &lt;response&gt; is required to be sent in the message, as AMQP makes the explicit paging redundant.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>For very high volumes, this allows the server to send multiple pages in parallel, as it can calculate the &ldquo;from&rdquo; and &ldquo;after&rdquo; parameter and control the send. The client can also process these in parallel (particularly useful in the case of shared or No-SQL data stores, with scaling queue processors), using the timestamp of each record to ensure records are only updated with newer data.</span><span>&nbsp;</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>However this requires additional infrastructure and the use of certificates (more complex to configure than HTTPS).</span></p><p class="c6 c10"><span></span></p><h2 class="c2" id="h.842iml56le25"><span>4. Implementation</span></h2><h3 class="c2" id="h.kvsgw2a7xw7f"><span>a</span><span>. Single JSON entity cache table</span></h3><p class="c6"><span>Create a cache table which is written to on each entity change (or related entity change, if a calculated field is created), either via an application or database trigger (which can also be used to trigger the webhook). The table contains the rendered JSON &lt;item&gt;, along with the modified timestamp and the ID.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>Entries in the table overwrite old items with a newer modified timestamp.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>This table can be easily parsed into output for the client. This has the advantage of allowing one endpoint and one process to manage the real-time sync by watching this single table, as the table can maintain a sort and page across all entity &ldquo;kinds&rdquo;.</span></p><h3 class="c2" id="h.mh7uehnrteqn"><span>b. Multiple table on-demand JSON generation </span></h3><p class="c6"><span>The JSON is generated from each table individually at the point that is requested by either the webhook or poll.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>An endpoint will be required for each entity &ldquo;kind&rdquo;, as the sort cannot efficiently happen across tables. These endpoints would require separate webhook / polling processes to keep them in sync (though the webhooks can all share the same endpoint on the client).</span></p><h3 class="c2" id="h.xil17j3jl1mv"><span>c. Hybrid approach: paging table </span></h3><p class="c6"><span>A paging table could be created that contains only the Kind, Modified Timestamp and ID. This table is then updated with each entity update, however the JSON is only generated on-demand by getting the next page from the paging table and rendering JSON for each of IDs of the &ldquo;kinds&rdquo; returned.</span></p><h3 class="c2" id="h.7cdtoqnc7ccv"><span>d. Additional notes</span></h3><h4 class="c2" id="h.75wlbi1bb3wf"><span>Calculated fields (e.g. available spaces or available tickets for a session)</span></h4><p class="c6"><span>As some entities will not need to be synchronised, but fields calculated from them will need to be known to the client (e.g. the &ldquo;tickets&rdquo; table may not need to be synchronised, but the &ldquo;available tickets&rdquo; calculated field on the &ldquo;sessions&rdquo; table will be required).</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>The suggested approach is to calculate the field &ldquo;available tickets&rdquo; and store it in the &ldquo;sessions&rdquo; table on each ticket sale. This has three advantages:</span></p><ul class="c22 lst-kix_miopmumpit9p-0 start"><li class="c4"><span>It keeps the application logic for such calculation together with the original action.</span></li><li class="c4"><span>It creates a cached value that can be used in other parts of the application to increase performance.</span></li><li class="c4"><span>It prevents the creation of complex calculations which are used only on-demand for the purposes of data synchronisation.</span></li></ul><p class="c6 c10"><span></span></p><p class="c6"><span>An alternative could be to calculate it on each synchronisation, however this will slow down the sync. Assuming that reads will occur on this calculated data more frequently than writes, caching the calculated field is recommended.</span></p><h4 class="c2" id="h.dqye5r8p2edj"><span>Strict ordering of items</span></h4><p class="c6"><span>For high-throughput AMQP, when updating data in the client&rsquo;s index, the timestamp of each record will be used to ensure records are only updated with newest data. Although this technique can be used specifically for AMQP, all other methods of transport must adhere to a strict ordering of items by modified timestamp and ID (per kind) in order to ensure data consistency. Ordering between kinds is not important.</span></p><h4 class="c2" id="h.zctlvq3jt28q"><span>Database Triggers (MS SQL Server example)</span></h4><p class="c6"><span>If using a </span><span class="c19"><a class="c16" href="https://www.google.com/url?q=https://msdn.microsoft.com/en-us/library/ms182776(v%3DSQL.90).aspx&amp;sa=D&amp;ust=1462330697582000&amp;usg=AFQjCNG81D-P5y713wEdYJ0PCVcr_coWMA">timestamp</a></span><span>/</span><span class="c19"><a class="c16" href="https://www.google.com/url?q=https://msdn.microsoft.com/en-GB/library/ms182776.aspx&amp;sa=D&amp;ust=1462330697582000&amp;usg=AFQjCNGFPjyAu0TqEa9dgpCJU_MO9NCFVQ">rowversion</a></span><span>&nbsp;field on the parent table as the &ldquo;modified timestamp&rdquo;, using the trigger below for each child table will update the rowversion field in the relevant rows on the parent table when the child table is updated.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>The </span><span class="c3">SET SomeColumn = SomeColumn</span><span>&nbsp;part of this trigger could easily be replaced with setting materialised calculated fields (e.g. &ldquo;total number of tickets sold&rdquo;) which contain the summary data required by &ldquo;System 2&rdquo;. This reduces the need to join the child table during the API endpoint response, which helps to optimise the endpoint.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span>The example below has been adapted from </span><span class="c19"><a class="c16" href="https://www.google.com/url?q=http://stackoverflow.com/questions/2165333/how-to-update-sql-server-timestamp-column-without-changing-record-data&amp;sa=D&amp;ust=1462330697583000&amp;usg=AFQjCNGreoCEp9o95o1JpvVh0Z4R8ByIOA">here</a></span><span>, see </span><span class="c19"><a class="c16" href="https://www.google.com/url?q=https://msdn.microsoft.com/en-us/library/ms191300.aspx&amp;sa=D&amp;ust=1462330697584000&amp;usg=AFQjCNELuzl_lxXJc7Lmx9UchJZy-8Xm2A">here</a></span><span>&nbsp;for an explanation of the mechanics.</span></p><p class="c6 c10"><span></span></p><p class="c6"><span class="c3">CREATE TRIGGER tgUpdateParentRowVersion ON ChildTable FOR INSERT, DELETE, UPDATE</span></p><p class="c6"><span class="c3">AS</span></p><p class="c6"><span class="c3">BEGIN</span></p><p class="c6"><span class="c3">&nbsp; &nbsp;/*</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; * The updates below force the update of the parent table rowversion</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; */</span></p><p class="c6 c10"><span class="c3"></span></p><p class="c6"><span class="c3">&nbsp; &nbsp;/* Materialised field calculation goes here*/</span></p><p class="c6 c10"><span class="c3"></span></p><p class="c6"><span class="c3">&nbsp; &nbsp;UPDATE ParentTable</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; &nbsp; SET SomeColumn = SomeColumn</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; &nbsp;FROM ParentTable a </span></p><p class="c6"><span class="c3">&nbsp; &nbsp; &nbsp;JOIN inserted &nbsp; &nbsp;i on a.pkParentTable = i.fkParentTable</span></p><p class="c6 c10"><span class="c3"></span></p><p class="c6"><span class="c3">&nbsp; &nbsp;UPDATE ParentTable</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; &nbsp; SET SomeColumn = SomeColumn</span></p><p class="c6"><span class="c3">&nbsp; &nbsp; &nbsp;FROM ParentTable a </span></p><p class="c6"><span class="c3">&nbsp; &nbsp; &nbsp;JOIN deleted &nbsp; &nbsp; d on a.pkParentTable = d.fkParentTable</span></p><p class="c6"><span class="c3">END</span></p><p class="c6 c10"><span></span></p><p class="c6 c10"><span></span></p><div><p class="c6"><span class="c21">Version 0.2</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 191.00px; height: 24.00px;"><img alt="" src="images/image01.png" style="width: 191.00px; height: 35.00px; margin-left: 0.00px; margin-top: -5.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span class="c21">This work is licensed under the Creative Commons Attribution-ShareAlike 4.0 International License.</span></p><p class="c6"><span class="c21">To view a copy of this license, visit http://creativecommons.org/licenses/by-sa/4.0/</span></p></div></body></html>
